(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{820:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xIDIuNUg0TTE0LjUgMi41SDdNMSA3Ljc1SDEwTTE0LjUgNy43NUgxM00xIDEzSDIuNU0xNC41IDEzSDUuNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPg0KPHBhdGggZD0iTTUuNSA0QzYuMzI4NDMgNCA3IDMuMzI4NDMgNyAyLjVDNyAxLjY3MTU3IDYuMzI4NDMgMSA1LjUgMUM0LjY3MTU3IDEgNCAxLjY3MTU3IDQgMi41QzQgMy4zMjg0MyA0LjY3MTU3IDQgNS41IDRaIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+DQo8cGF0aCBkPSJNMTEuNSA5LjI1QzEyLjMyODQgOS4yNSAxMyA4LjU3ODQzIDEzIDcuNzVDMTMgNi45MjE1NyAxMi4zMjg0IDYuMjUgMTEuNSA2LjI1QzEwLjY3MTYgNi4yNSAxMCA2LjkyMTU3IDEwIDcuNzVDMTAgOC41Nzg0MyAxMC42NzE2IDkuMjUgMTEuNSA5LjI1WiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPg0KPHBhdGggZD0iTTQgMTQuNUM0LjgyODQzIDE0LjUgNS41IDEzLjgyODQgNS41IDEzQzUuNSAxMi4xNzE2IDQuODI4NDMgMTEuNSA0IDExLjVDMy4xNzE1NyAxMS41IDIuNSAxMi4xNzE2IDIuNSAxM0MyLjUgMTMuODI4NCAzLjE3MTU3IDE0LjUgNCAxNC41WiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPg0KPC9zdmc+DQo="},871:function(t,e,n){"use strict";n.r(e);var r,o,c=n(814),l=n(705),m=n(723),d=n(721),v=n(259),I=n(265),f=n(147),h=(n(45),n(43)),w=(n(102),n(46),n(9),n(4),n(346),n(57),n(79),n(745)),x=n(314),k=n(737),M=n(733),A=n(738),S=n(734),C=n(732),y=new(n(735))(window.ethereum),D="0x2f2f7197d19A13e8c72c1087dD29d555aBE76C5C",N="0xa8ef07AEbC64A96Ae264f3Bd5cC37fF5B28B1545",j={name:"SwapPage",data:function(){return{selectedItem1:null,selectedItem2:null,tokenInAmountUser:0,tokenAmountIn:0,tokenAmountOut:0,tokens:void 0,items1:this.tokens,items2:this.tokens,heightChart:void 0,swapFrom:{img:n(172),name:"bear",amount:void 0},swapTo:{img:n(148),name:"btc",amount:void 0},rules:[function(t){return!!t||"Field is required"},function(t){return/^\d+(\.\d+)?$/.test(t)||"Invalid numeric input"},function(t){return t>0||"Value must be positive"}],numericFormatConfig:{decimalSeparator:".",fractionDigitsMax:2,fractionDigitsMin:2,fractionDigitsSeparator:"",thousandsDigitsSeparator:","}}},head:function(){return{title:"Swap"}},computed:{items1Filtered:function(){var t,e=this;return null===(t=this.tokens)||void 0===t?void 0:t.filter((function(t){var n;return null!==(n=t!==e.selectedItem2)&&void 0!==n?n:""}))},items2Filtered:function(){var t,e=this;return null===(t=this.tokens)||void 0===t?void 0:t.filter((function(t){var n;return null!==(n=t!==e.selectedItem1)&&void 0!==n?n:""}))}},mounted:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$metamask.checkConnection();case 2:t.styles(),D=t.$protocolAddresses.getRouterAddress(t.$metamask.userCurrentChainId),N=t.$protocolAddresses.getFactoryAddress(t.$metamask.userCurrentChainId),r=new y.eth.Contract(k,D),o=new y.eth.Contract(M,N),"0x8274f"===t.$metamask.userCurrentChainId?t.tokens=C:t.tokens=S,window.addEventListener("resize",t.styles);case 9:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){window.removeEventListener("resize",this.styles)},methods:{submitForm:function(){this.$refs.form.validate()&&this.swapTokensForTokens(this.$refs.select1.internalValue,this.$refs.select2.internalValue)},setMaxValue:function(){this.tokenAmountIn=this.tokenInAmountUser|Object(x.b)(this.numericFormatConfig),this.calculateMidPrice()},styles:function(){},switchTokens:function(){var t=this.selectedItem1;this.selectedItem1=this.selectedItem2,this.selectedItem2=t},calcPriceTo:function(t){var e=this.swapFrom;console.log(e),this.swapTo.amount=(t/1.5).toFixed(2)},swapValues:function(){var t=this.$refs.select1.internalValue;this.$refs.select1.internalValue=this.$refs.select2.internalValue,this.$refs.select2.internalValue=t},approve:function(t,e){var n=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=new y.eth.Contract(A,t),r.next=3,o.methods.approve(D,e).send({from:n.$metamask.userAccount}).then((function(t){}),(function(t){}));case 3:case"end":return r.stop()}}),r)})))()},balanceOf:function(t){var e=this;return Object(h.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new y.eth.Contract(A,t.address),n.next=3,r.methods.balanceOf(e.$metamask.userAccount).call();case 3:o=n.sent,e.tokenInAmountUser=o/Math.pow(10,t.decimals);case 5:case"end":return n.stop()}}),n)})))()},getPair:function(t,e){var n=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.methods.getPair(t,e).call();case 2:if(c=r.sent,!("0x0000000000000000000000000000000000000000"!==c)){r.next=8;break}return r.abrupt("return",c);case 8:n.$alert("cancel","Pair does not exist");case 9:case"end":return r.stop()}}),r)})))()},getReserves:function(t,e){var n=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getPair(t,e);case 2:return o=r.sent,c=new y.eth.Contract(w.abi,o),r.next=6,c.methods.getReserves().call();case 6:return l=r.sent,r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)})))()},calculateMidPrice:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.tokenAmountIn>0&&t.tokenAmountIn&&null!=t.selectedItem1&&null!=t.selectedItem2)){e.next=8;break}return e.next=3,t.getReserves(t.selectedItem1.address,t.selectedItem2.address);case 3:return n=e.sent,e.next=6,r.methods.getAmountOut(BigInt(t.tokenAmountIn*Math.pow(10,t.selectedItem1.decimals)).toString(),n.reserve0,n.reserve1).call();case 6:o=e.sent,t.tokenAmountOut=o/Math.pow(10,t.selectedItem2.decimals);case 8:case"end":return e.stop()}}),e)})))()},swapTokensForTokens:function(t,e){var n=this;return Object(h.a)(regeneratorRuntime.mark((function o(){var c,path;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(BigInt(n.tokenAmountIn*Math.pow(10,t.decimals)).toString().replace(/[.,]/g,"")),console.log(BigInt(n.tokenAmountOut*Math.pow(10,t.decimals)).toString().replace(/[.,]/g,"")),c=Math.floor(Date.now()/1e3)+1200,n.approve(t.address,BigInt(n.tokenAmountIn*Math.pow(10,t.decimals)).toString().replace(/[.,]/g,"")),path=[t.address,e.address],o.next=7,r.methods.swapExactTokensForTokens(BigInt(n.tokenAmountIn*Math.pow(10,t.decimals)).toString().replace(/[.,]/g,""),BigInt(n.tokenAmountOut*Math.pow(10,t.decimals)).toString().replace(/[.,]/g,""),path,n.$metamask.userAccount,c).send({from:n.$metamask.userAccount});case 7:case"end":return o.stop()}}),o)})))()},swapETHForTokens:function(){},swapTokensForETH:function(){}}},T=(n(766),n(768),n(49)),component=Object(T.a)(j,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"swap"}},[e("section",{staticClass:"fwrap center divcol",attrs:{id:"swap-content"}},[e("h1",{staticClass:"swap-title"},[t._v("Swap Tokens")]),t._v(" "),e(d.a,{ref:"form"},[e("div",{staticClass:"divrow mobile-column",staticStyle:{gap:"20px"}},[e(m.a,{staticClass:"swap-card divcol center jspace"},[e(l.a,{staticClass:"menu-btn"},[e("img",{attrs:{src:n(820),alt:"menu"}})]),t._v(" "),e("span",{staticClass:"dm-400"},[t._v("\n            From\n          ")]),t._v(" "),e("div",{staticClass:"swap-container"},[e(c.a,{ref:"select1",staticClass:"input-auto",attrs:{items:t.items1Filtered,"item-text":"text","item-value":"value","append-icon":"mdi-chevron-down"},on:{change:function(e){return t.balanceOf(t.selectedItem1)}},scopedSlots:t._u([{key:"item",fn:function(n){var r=n.item;return[e(I.a,{staticStyle:{"max-width":"20px"},attrs:{src:r.logoURI}}),t._v(" "),e("span",{staticStyle:{"margin-left":"10px",color:"#000!important"}},[t._v(t._s(r.name))])]}},{key:"selection",fn:function(n){var r=n.item;return[r?e(I.a,{staticStyle:{"max-width":"20px"},attrs:{src:r.logoURI}}):t._e(),t._v(" "),r?e("span",{staticStyle:{"margin-left":"10px",color:"#000!important"}},[t._v(t._s(r.symbol))]):t._e()]}}]),model:{value:t.selectedItem1,callback:function(e){t.selectedItem1=e},expression:"selectedItem1"}}),t._v(" "),e(f.a,{staticClass:"input-number",attrs:{rules:t.rules,value:0,placeholder:"0.00"},on:{input:function(e){return t.calculateMidPrice()}},model:{value:t.tokenAmountIn,callback:function(e){t.tokenAmountIn=e},expression:"tokenAmountIn"}}),t._v(" "),e(l.a,{staticClass:"btn-max",on:{click:t.setMaxValue}},[t._v("max")])],1),t._v(" "),e("div",{staticClass:"divrow center jspace mobile-btn",staticStyle:{width:"350px"}},[e(v.a,{on:{click:function(e){return t.swapValues()}}},[t._v("mdi-swap-vertical")])],1),t._v(" "),e("span",{staticClass:"dm-400"},[t._v("\n            To\n          ")]),t._v(" "),e("div",{staticClass:"swap-container swap-container2"},[e(c.a,{ref:"select2",staticClass:"input-auto",attrs:{items:t.items2Filtered,"append-icon":"mdi-chevron-down","item-text":"text","item-value":"value"},scopedSlots:t._u([{key:"item",fn:function(n){var r=n.item;return[e(I.a,{staticStyle:{"max-width":"20px"},attrs:{src:r.logoURI}}),t._v(" "),e("span",{staticStyle:{"margin-left":"10px",color:"#000!important"}},[t._v(t._s(r.name))])]}},{key:"selection",fn:function(n){var r=n.item;return[r?e(I.a,{staticStyle:{"max-width":"20px"},attrs:{src:r.logoURI}}):t._e(),t._v(" "),r?e("span",{staticStyle:{"margin-left":"10px",color:"#000!important"}},[t._v(t._s(r.symbol))]):t._e()]}}]),model:{value:t.selectedItem2,callback:function(e){t.selectedItem2=e},expression:"selectedItem2"}}),t._v(" "),e(f.a,{staticClass:"input-number",attrs:{rules:t.rules,value:0,placeholder:"0.00"},model:{value:t.tokenAmountOut,callback:function(e){t.tokenAmountOut=e},expression:"tokenAmountOut"}})],1),t._v(" "),e(l.a,{staticClass:"btn mobile-btn",staticStyle:{width:"350px!important",height:"50px!important","margin-top":"15px"},on:{click:t.submitForm}},[t._v("Swap\n          ")]),t._v(" "),e("div",{staticClass:"center mt-4 mb-4"},[e("a",{staticClass:"atag",attrs:{href:""}},[t._v("Add Splatter To Wallet")]),t._v(" "),e("div",{staticClass:"div-linea"})])],1),t._v(" "),t._e()],1)])],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AppChartsSwapChart:n(762).default})}}]);